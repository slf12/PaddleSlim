

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>硬件延时评估表 &mdash; PaddleSlim 1.0 文档</title>
  

  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  

  

  
        <link rel="index" title="索引"
              href="../genindex.html"/>
        <link rel="search" title="搜索" href="../search.html"/>
    <link rel="top" title="PaddleSlim 1.0 文档" href="../index.html"/>
        <link rel="up" title="API文档" href="index.html"/>
        <link rel="next" title="模型库" href="../model_zoo.html"/>
        <link rel="prev" title="搜索空间" href="search_space.html"/> 

  
  <script src="../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../index.html" class="icon icon-home"> PaddleSlim
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
                <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../index_en.html">English Documents</a></li>
<li class="toctree-l1"><a class="reference internal" href="../intro.html">PaddleSlim简介</a></li>
<li class="toctree-l1"><a class="reference internal" href="../install.html">安装</a></li>
<li class="toctree-l1"><a class="reference internal" href="../quick_start/index.html">快速开始</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorials/index.html">进阶教程</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">API文档</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="analysis_api.html">模型分析</a></li>
<li class="toctree-l2"><a class="reference internal" href="nas_api.html">SA-NAS</a></li>
<li class="toctree-l2"><a class="reference internal" href="one_shot_api.html">OneShotNAS</a></li>
<li class="toctree-l2"><a class="reference internal" href="pantheon_api.html">多进程蒸馏</a></li>
<li class="toctree-l2"><a class="reference internal" href="prune_api.html">卷积层通道剪裁</a></li>
<li class="toctree-l2"><a class="reference internal" href="quantization_api.html">量化</a></li>
<li class="toctree-l2"><a class="reference internal" href="single_distiller_api.html">简单蒸馏</a></li>
<li class="toctree-l2"><a class="reference internal" href="search_space.html">搜索空间</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">硬件延时评估表</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id2">概述</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id3">整体格式</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id4">版本信息</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id5">操作信息</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#conv2d">conv2d</a></li>
<li class="toctree-l4"><a class="reference internal" href="#activation">activation</a></li>
<li class="toctree-l4"><a class="reference internal" href="#batch-norm">batch_norm</a></li>
<li class="toctree-l4"><a class="reference internal" href="#eltwise">eltwise</a></li>
<li class="toctree-l4"><a class="reference internal" href="#pooling">pooling</a></li>
<li class="toctree-l4"><a class="reference internal" href="#softmax">softmax</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../model_zoo.html">模型库</a></li>
<li class="toctree-l1"><a class="reference internal" href="../algo/algo.html">算法原理</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../index.html">PaddleSlim</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          

 



<div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../index.html">Docs</a> &raquo;</li>
      
          <li><a href="index.html">API文档</a> &raquo;</li>
      
    <li>硬件延时评估表</li>
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="../_sources/api_cn/table_latency.md.txt" rel="nofollow"> View page source</a>
          
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="id1">
<h1>硬件延时评估表<a class="headerlink" href="#id1" title="永久链接至标题">¶</a></h1>
<p>硬件延时评估表用于快速评估一个模型在特定硬件环境和推理引擎上的推理速度。
该文档主要用于定义PaddleSlim支持的硬件延时评估表的格式。</p>
<div class="section" id="id2">
<h2>概述<a class="headerlink" href="#id2" title="永久链接至标题">¶</a></h2>
<p>硬件延时评估表中存放着所有可能的操作对应的延时信息，该表中的一个操作包括操作类型和操作参数，比如：操作类型可以是<code class="docutils literal"><span class="pre">conv2d</span></code>，对应的操作参数有输入特征图的大小、卷积核个数、卷积核大小等。
给定操作的延时依赖于硬件环境和推理引擎。</p>
</div>
<div class="section" id="id3">
<h2>整体格式<a class="headerlink" href="#id3" title="永久链接至标题">¶</a></h2>
<p>硬件延时评估表以文件或多行字符串的形式保存。</p>
<p>硬件延时评估表第一行保存版本信息，后续每行为一个操作和对应的延时信息。</p>
</div>
<div class="section" id="id4">
<h2>版本信息<a class="headerlink" href="#id4" title="永久链接至标题">¶</a></h2>
<p>版本信息以英文字符逗号分割，内容依次为硬件环境名称、推理引擎名称和时间戳。</p>
<ul class="simple">
<li><strong>硬件环境名称：</strong> 用于标识硬件环境，可以包含计算架构类型、版本号等信息。</li>
<li><strong>推理引擎名称：</strong> 用于标识推理引擎，可以包含推理引擎名称、版本号、优化选项等信息。</li>
<li><strong>时间戳：</strong> 该评估表的创建时间。</li>
</ul>
</div>
<div class="section" id="id5">
<h2>操作信息<a class="headerlink" href="#id5" title="永久链接至标题">¶</a></h2>
<p>操作信息字段之间以逗号分割。操作信息与延迟信息之间以制表符分割。</p>
<div class="section" id="conv2d">
<h3>conv2d<a class="headerlink" href="#conv2d" title="永久链接至标题">¶</a></h3>
<p><strong>格式</strong></p>
<div class="highlight-text"><div class="highlight"><pre><span></span>op_type,flag_bias,flag_relu,n_in,c_in,h_in,w_in,c_out,groups,kernel,padding,stride,dilation\tlatency
</pre></div>
</div>
<p><strong>字段解释</strong></p>
<ul class="simple">
<li><strong>op_type(str)</strong> - 当前op类型。</li>
<li><strong>flag_bias (int)</strong> - 是否有 bias（0：无，1：有）。</li>
<li><strong>flag_relu (int)</strong> - 是否有 relu（0：无，1：有）。</li>
<li><strong>n_in (int)</strong> - 输入 Tensor 的批尺寸 (batch size)。</li>
<li><strong>c_in (int)</strong> - 输入 Tensor 的通道 (channel) 数。</li>
<li><strong>h_in (int)</strong> - 输入 Tensor 的特征高度。</li>
<li><strong>w_in (int)</strong> - 输入 Tensor 的特征宽度。</li>
<li><strong>c_out (int)</strong> - 输出 Tensor 的通道 (channel) 数。</li>
<li><strong>groups (int)</strong> - 卷积二维层（Conv2D Layer）的组数。</li>
<li><strong>kernel (int)</strong> - 卷积核大小。</li>
<li><strong>padding (int)</strong> - 填充 (padding) 大小。</li>
<li><strong>stride (int)</strong> - 步长 (stride) 大小。</li>
<li><strong>dilation (int)</strong> - 膨胀 (dilation) 大小。</li>
<li><strong>latency (float)</strong> - 当前op的延时时间</li>
</ul>
</div>
<div class="section" id="activation">
<h3>activation<a class="headerlink" href="#activation" title="永久链接至标题">¶</a></h3>
<p><strong>格式</strong></p>
<div class="highlight-text"><div class="highlight"><pre><span></span>op_type,n_in,c_in,h_in,w_in\tlatency
</pre></div>
</div>
<p><strong>字段解释</strong></p>
<ul class="simple">
<li><strong>op_type(str)</strong> - 当前op类型。</li>
<li><strong>n_in (int)</strong> - 输入 Tensor 的批尺寸 (batch size)。</li>
<li><strong>c_in (int)</strong> - 输入 Tensor 的通道 (channel) 数。</li>
<li><strong>h_in (int)</strong> - 输入 Tensor 的特征高度。</li>
<li><strong>w_in (int)</strong> - 输入 Tensor 的特征宽度。</li>
<li><strong>latency (float)</strong> - 当前op的延时时间</li>
</ul>
</div>
<div class="section" id="batch-norm">
<h3>batch_norm<a class="headerlink" href="#batch-norm" title="永久链接至标题">¶</a></h3>
<p><strong>格式</strong></p>
<div class="highlight-text"><div class="highlight"><pre><span></span>op_type,active_type,n_in,c_in,h_in,w_in\tlatency
</pre></div>
</div>
<p><strong>字段解释</strong></p>
<ul class="simple">
<li><strong>op_type(str)</strong> - 当前op类型。</li>
<li><strong>active_type (string|None)</strong> - 激活函数类型，包含：relu, prelu, sigmoid, relu6, tanh。</li>
<li><strong>n_in (int)</strong> - 输入 Tensor 的批尺寸 (batch size)。</li>
<li><strong>c_in (int)</strong> - 输入 Tensor 的通道 (channel) 数。</li>
<li><strong>h_in (int)</strong> - 输入 Tensor 的特征高度。</li>
<li><strong>w_in (int)</strong> - 输入 Tensor 的特征宽度。</li>
<li><strong>latency (float)</strong> - 当前op的延时时间</li>
</ul>
</div>
<div class="section" id="eltwise">
<h3>eltwise<a class="headerlink" href="#eltwise" title="永久链接至标题">¶</a></h3>
<p><strong>格式</strong></p>
<div class="highlight-text"><div class="highlight"><pre><span></span>op_type,n_in,c_in,h_in,w_in\tlatency
</pre></div>
</div>
<p><strong>字段解释</strong></p>
<ul class="simple">
<li><strong>op_type(str)</strong> - 当前op类型。</li>
<li><strong>n_in (int)</strong> - 输入 Tensor 的批尺寸 (batch size)。</li>
<li><strong>c_in (int)</strong> - 输入 Tensor 的通道 (channel) 数。</li>
<li><strong>h_in (int)</strong> - 输入 Tensor 的特征高度。</li>
<li><strong>w_in (int)</strong> - 输入 Tensor 的特征宽度。</li>
<li><strong>latency (float)</strong> - 当前op的延时时间</li>
</ul>
</div>
<div class="section" id="pooling">
<h3>pooling<a class="headerlink" href="#pooling" title="永久链接至标题">¶</a></h3>
<p><strong>格式</strong></p>
<div class="highlight-text"><div class="highlight"><pre><span></span>op_type,flag_global_pooling,n_in,c_in,h_in,w_in,kernel,padding,stride,ceil_mode,pool_type\tlatency
</pre></div>
</div>
<p><strong>字段解释</strong></p>
<ul class="simple">
<li><strong>op_type(str)</strong> - 当前op类型。</li>
<li><strong>flag_global_pooling (int)</strong> - 是否为全局池化（0：不是，1：是）。</li>
<li><strong>n_in (int)</strong> - 输入 Tensor 的批尺寸 (batch size)。</li>
<li><strong>c_in (int)</strong> - 输入 Tensor 的通道 (channel) 数。</li>
<li><strong>h_in (int)</strong> - 输入 Tensor 的特征高度。</li>
<li><strong>w_in (int)</strong> - 输入 Tensor 的特征宽度。</li>
<li><strong>kernel (int)</strong> - 卷积核大小。</li>
<li><strong>padding (int)</strong> - 填充 (padding) 大小。</li>
<li><strong>stride (int)</strong> - 步长 (stride) 大小。</li>
<li><strong>ceil_mode (int)</strong> - 是否用 ceil 函数计算输出高度和宽度。0 表示使用 floor 函数，1 表示使用 ceil 函数。</li>
<li><strong>pool_type (int)</strong> - 池化类型，其中 1 表示 pooling_max，2 表示 pooling_average_include_padding，3 表示 pooling_average_exclude_padding。</li>
<li><strong>latency (float)</strong> - 当前op的延时时间</li>
</ul>
</div>
<div class="section" id="softmax">
<h3>softmax<a class="headerlink" href="#softmax" title="永久链接至标题">¶</a></h3>
<p><strong>格式</strong></p>
<div class="highlight-text"><div class="highlight"><pre><span></span>op_type,axis,n_in,c_in,h_in,w_in\tlatency
</pre></div>
</div>
<p><strong>字段解释</strong></p>
<ul class="simple">
<li><strong>op_type(str)</strong> - 当前op类型。</li>
<li><strong>axis (int)</strong> - 执行 softmax 计算的维度索引，应该在 [−1，rank − 1] 范围内，其中 rank 是输入变量的秩。</li>
<li><strong>n_in (int)</strong> - 输入 Tensor 的批尺寸 (batch size)。</li>
<li><strong>c_in (int)</strong> - 输入 Tensor 的通道 (channel) 数。</li>
<li><strong>h_in (int)</strong> - 输入 Tensor 的特征高度。</li>
<li><strong>w_in (int)</strong> - 输入 Tensor 的特征宽度。</li>
<li><strong>latency (float)</strong> - 当前op的延时时间</li>
</ul>
</div>
</div>
</div>


           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../model_zoo.html" class="btn btn-neutral float-right" title="模型库" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="search_space.html" class="btn btn-neutral" title="搜索空间" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2020, paddleslim.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../',
            VERSION:'1.0',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="../_static/jquery.js"></script>
      <script type="text/javascript" src="../_static/underscore.js"></script>
      <script type="text/javascript" src="../_static/doctools.js"></script>
      <script type="text/javascript" src="../_static/translations.js"></script>
      <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

  

  
  
    <script type="text/javascript" src="../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>